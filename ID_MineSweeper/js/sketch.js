// Generated by CoffeeScript 2.4.1
var MineSweeper, app, draw, mousePressed, setup,
  indexOf = [].indexOf;

app = null;

MineSweeper = class MineSweeper {
  reset(w, totalBombs) {
    this.w = w;
    this.n = int(200 / this.w);
    this.newGame(totalBombs);
    return this.flags = [];
  }

  newGame(totalBombs) {
    var i;
    this.state = 0;
    this.revealed = [];
    return this.bombs = (function() {
      var k, len, ref, results;
      ref = range(totalBombs);
      results = [];
      for (k = 0, len = ref.length; k < len; k++) {
        i = ref[k];
        results.push(_.random(this.n * this.n));
      }
      return results;
    }).call(this);
  }

  neighborCount(i0, j0) {
    var di, dj, i, j, k, l, len, len1, ref, ref1, ref2, total;
    total = 0;
    ref = [-1, 0, 1];
    for (k = 0, len = ref.length; k < len; k++) {
      di = ref[k];
      ref1 = [-1, 0, 1];
      for (l = 0, len1 = ref1.length; l < len1; l++) {
        dj = ref1[l];
        [i, j] = [i0 + di, j0 + dj];
        if ((-1 < i && i < this.n) && (-1 < j && j < this.n)) {
          if (ref2 = this.n * j + i, indexOf.call(this.bombs, ref2) >= 0) {
            total++;
          }
        }
      }
    }
    return total;
  }

  draw() {
    var i, index, j, k, len, nc, ref, results, x, y;
    textAlign(CENTER, CENTER);
    textSize(this.w);
    rectMode(CENTER);
    ref = range(this.n);
    results = [];
    for (k = 0, len = ref.length; k < len; k++) {
      i = ref[k];
      results.push((function() {
        var l, len1, ref1, results1;
        ref1 = range(this.n);
        results1 = [];
        for (l = 0, len1 = ref1.length; l < len1; l++) {
          j = ref1[l];
          index = this.n * j + i;
          [x, y] = [this.w * i + this.w / 2, this.w * j + this.w / 2];
          if (indexOf.call(this.flags, index) >= 0) {
            fc(1, 0, 0);
            results1.push(text('F', x, y + 2));
          } else {
            sc(0);
            fc(0.5);
            rect(x, y, this.w, this.w);
            if (this.state === 1 || indexOf.call(this.revealed, index) >= 0) {
              fc(0);
              if (indexOf.call(this.bombs, index) >= 0) {
                results1.push(circle(x, y, this.w * 0.25));
              } else {
                fc(0.75);
                rect(x, y, this.w, this.w);
                nc = this.neighborCount(i, j);
                sc();
                fill('#000 #f00 #0f0 #00f #ff0 #f0f #0ff #fff'.split(' ')[nc]);
                if (nc > 0) {
                  results1.push(text(nc, x + 1, y + 1));
                } else {
                  results1.push(void 0);
                }
              }
            } else {
              results1.push(void 0);
            }
          }
        }
        return results1;
      }).call(this));
    }
    return results;
  }

  mousePressed(mx, my) {
    var i, index, j;
    i = int(mx / this.w);
    j = int(my / this.w);
    index = this.n * j + i;
    if (keyIsPressed) {
      this.toggleFlag(index);
      return;
    }
    if (this.state === 1) {
      return this.newGame(this.bombs.length);
    } else {
      if (indexOf.call(this.bombs, index) >= 0) {
        return this.state = 1;
      } else {
        return this.reveal(i, j);
      }
    }
  }

  toggleFlag(index) {
    console.log(index);
    if (indexOf.call(this.flags, index) >= 0) {
      return this.flags = _.without(this.flags, index);
    } else {
      return this.flags.push(index);
    }
  }

  reveal(i, j) {
    this.revealed.push(this.n * j + i);
    if (this.neighborCount(i, j) === 0) {
      return this.floodFill(i, j);
    }
  }

  floodFill(i0, j0) {
    var di, dj, i, index, j, k, len, ref, results;
    ref = [-1, 0, 1];
    results = [];
    for (k = 0, len = ref.length; k < len; k++) {
      di = ref[k];
      results.push((function() {
        var l, len1, ref1, results1;
        ref1 = [-1, 0, 1];
        results1 = [];
        for (l = 0, len1 = ref1.length; l < len1; l++) {
          dj = ref1[l];
          i = i0 + di;
          j = j0 + dj;
          if ((-1 < i && i < this.n) && (-1 < j && j < this.n)) {
            index = this.n * j + i;
            if (!(indexOf.call(this.bombs, index) >= 0 || indexOf.call(this.revealed, index) >= 0)) {
              results1.push(this.reveal(i, j));
            } else {
              results1.push(void 0);
            }
          } else {
            results1.push(void 0);
          }
        }
        return results1;
      }).call(this));
    }
    return results;
  }

};

setup = function() {
  createCanvas(200, 200);
  app = new MineSweeper;
  button('reset 20,10', () => {
    return app.reset(20, 10);
  });
  button('reset 20,20', () => {
    return app.reset(20, 20);
  });
  button('reset 20,30', () => {
    return app.reset(20, 30);
  });
  button('reset 10,40', () => {
    return app.reset(10, 40);
  });
  return app.reset(20, 10);
};

draw = function() {
  return app.draw();
};

mousePressed = function(event) {
  return app.mousePressed(event.x, event.y);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsV0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsWUFBQSxFQUFBLEtBQUE7RUFBQTs7QUFBQSxHQUFBLEdBQU07O0FBRUEsY0FBTixNQUFBLFlBQUE7RUFFQyxLQUFRLENBQUMsQ0FBRCxFQUFHLFVBQUgsQ0FBQTtJQUNQLElBQUMsQ0FBQSxDQUFELEdBQUs7SUFDTCxJQUFDLENBQUEsQ0FBRCxHQUFLLEdBQUEsQ0FBSSxHQUFBLEdBQU0sSUFBQyxDQUFBLENBQVg7SUFDTCxJQUFDLENBQUEsT0FBRCxDQUFTLFVBQVQ7V0FDQSxJQUFDLENBQUEsS0FBRCxHQUFTO0VBSkY7O0VBTVIsT0FBVSxDQUFDLFVBQUQsQ0FBQTtBQUNULFFBQUE7SUFBQSxJQUFDLENBQUEsS0FBRCxHQUFTO0lBQ1QsSUFBQyxDQUFBLFFBQUQsR0FBWTtXQUNaLElBQUMsQ0FBQSxLQUFEOztBQUF5QjtBQUFBO01BQUEsS0FBQSxxQ0FBQTs7cUJBQWYsQ0FBQyxDQUFDLE1BQUYsQ0FBUyxJQUFDLENBQUEsQ0FBRCxHQUFHLElBQUMsQ0FBQSxDQUFiO01BQWUsQ0FBQTs7O0VBSGhCOztFQUtWLGFBQWdCLENBQUMsRUFBRCxFQUFJLEVBQUosQ0FBQTtBQUNmLFFBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxHQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQTtJQUFBLEtBQUEsR0FBUTtBQUNSO0lBQUEsS0FBQSxxQ0FBQTs7QUFDQztNQUFBLEtBQUEsd0NBQUE7O1FBQ0MsQ0FBQyxDQUFELEVBQUcsQ0FBSCxDQUFBLEdBQVEsQ0FBQyxFQUFBLEdBQUssRUFBTixFQUFTLEVBQUEsR0FBSyxFQUFkO1FBQ1IsSUFB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QXNCLENBQUEsQ0FBQSxHQUFBO1dBQUcsR0FBRyxDQUFDLEtBQUosQ0FBVSxFQUFWLEVBQWEsRUFBYjtFQUFILENBQXRCO1NBQ0EsR0FBRyxDQUFDLEtBQUosQ0FBVSxFQUFWLEVBQWEsRUFBYjtBQVBPOztBQVNSLElBQUEsR0FBTyxRQUFBLENBQUEsQ0FBQTtTQUFHLEdBQUcsQ0FBQyxJQUFKLENBQUE7QUFBSDs7QUFDUCxZQUFBLEdBQWUsUUFBQSxDQUFDLEtBQUQsQ0FBQTtTQUFXLEdBQUcsQ0FBQyxZQUFKLENBQWlCLEtBQUssQ0FBQyxDQUF2QixFQUF5QixLQUFLLENBQUMsQ0FBL0I7QUFBWCIsInNvdXJjZXNDb250ZW50IjpbImFwcCA9IG51bGxcclxuXHJcbmNsYXNzIE1pbmVTd2VlcGVyXHJcblxyXG5cdHJlc2V0IDogKHcsdG90YWxCb21icykgLT5cclxuXHRcdEB3ID0gd1xyXG5cdFx0QG4gPSBpbnQgMjAwIC8gQHdcclxuXHRcdEBuZXdHYW1lIHRvdGFsQm9tYnNcclxuXHRcdEBmbGFncyA9IFtdXHJcblxyXG5cdG5ld0dhbWUgOiAodG90YWxCb21icykgLT5cclxuXHRcdEBzdGF0ZSA9IDBcclxuXHRcdEByZXZlYWxlZCA9IFtdXHJcblx0XHRAYm9tYnMgPSAoXy5yYW5kb20gQG4qQG4gZm9yIGkgaW4gcmFuZ2UgdG90YWxCb21icylcclxuXHJcblx0bmVpZ2hib3JDb3VudCA6IChpMCxqMCkgLT5cclxuXHRcdHRvdGFsID0gMFxyXG5cdFx0Zm9yIGRpIGluIFstMSwwLDFdXHJcblx0XHRcdGZvciBkaiBpbiBbLTEsMCwxXVxyXG5cdFx0XHRcdFtpLGpdID0gW2kwICsgZGksajAgKyBkal1cclxuXHRcdFx0XHRpZiAtMSA8IGkgPCBAbiBhbmQgLTEgPCBqIDwgQG5cclxuXHRcdFx0XHRcdGlmIEBuKmoraSBpbiBAYm9tYnMgdGhlbiB0b3RhbCsrXHJcblx0XHR0b3RhbFxyXG5cclxuXHRkcmF3IDogLT5cclxuXHRcdHRleHRBbGlnbiBDRU5URVIsQ0VOVEVSXHJcblx0XHR0ZXh0U2l6ZSBAd1xyXG5cdFx0cmVjdE1vZGUgQ0VOVEVSXHJcblx0XHRmb3IgaSBpbiByYW5nZSBAblxyXG5cdFx0XHRmb3IgaiBpbiByYW5nZSBAblxyXG5cdFx0XHRcdGluZGV4ID0gQG4gKiBqICsgaVxyXG5cdFx0XHRcdFt4LHldID0gW0B3KmkrQHcvMiwgQHcqaitAdy8yXVxyXG5cdFx0XHRcdGlmIGluZGV4IGluIEBmbGFncyBcclxuXHRcdFx0XHRcdGZjIDEsMCwwXHJcblx0XHRcdFx0XHR0ZXh0ICdGJyx4LHkrMlxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHNjIDBcclxuXHRcdFx0XHRcdGZjIDAuNVxyXG5cdFx0XHRcdFx0cmVjdCB4LCB5LCBAdywgQHdcclxuXHRcdFx0XHRcdGlmIEBzdGF0ZT09MSBvciBpbmRleCBpbiBAcmV2ZWFsZWRcclxuXHRcdFx0XHRcdFx0ZmMgMFxyXG5cdFx0XHRcdFx0XHRpZiBpbmRleCBpbiBAYm9tYnMgdGhlbiBjaXJjbGUgeCwgeSwgQHcgKiAwLjI1XHJcblx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRmYyAwLjc1XHJcblx0XHRcdFx0XHRcdFx0cmVjdCB4LCB5LCBAdywgQHdcclxuXHRcdFx0XHRcdFx0XHRuYyA9IEBuZWlnaGJvckNvdW50IGksalxyXG5cdFx0XHRcdFx0XHRcdHNjKClcclxuXHRcdFx0XHRcdFx0XHRmaWxsICcjMDAwICNmMDAgIzBmMCAjMDBmICNmZjAgI2YwZiAjMGZmICNmZmYnLnNwbGl0KCcgJylbbmNdXHJcblx0XHRcdFx0XHRcdFx0aWYgbmMgPiAwIHRoZW4gdGV4dCBuYywgeCsxLCB5KzFcclxuXHJcblx0bW91c2VQcmVzc2VkIDogKG14LG15KSAtPlxyXG5cdFx0aSA9IGludCBteC9Ad1xyXG5cdFx0aiA9IGludCBteS9Ad1xyXG5cdFx0aW5kZXggPSBAbipqK2lcclxuXHRcdGlmIGtleUlzUHJlc3NlZFxyXG5cdFx0XHRAdG9nZ2xlRmxhZyBpbmRleFxyXG5cdFx0XHRyZXR1cm5cclxuXHRcdGlmIEBzdGF0ZT09MSB0aGVuIEBuZXdHYW1lIEBib21icy5sZW5ndGhcclxuXHRcdGVsc2VcclxuXHRcdFx0aWYgaW5kZXggaW4gQGJvbWJzIHRoZW5cdEBzdGF0ZSA9IDEgZWxzZVx0QHJldmVhbCBpLGpcclxuXHJcblx0dG9nZ2xlRmxhZyA6IChpbmRleCkgLT5cclxuXHRcdGNvbnNvbGUubG9nIGluZGV4XHJcblx0XHRpZiBpbmRleCBpbiBAZmxhZ3MgXHJcblx0XHRcdEBmbGFncyA9IF8ud2l0aG91dCBAZmxhZ3MsIGluZGV4XHJcblx0XHRlbHNlIFxyXG5cdFx0XHRAZmxhZ3MucHVzaCBpbmRleFxyXG5cclxuXHRyZXZlYWwgOiAoaSxqKSAtPlxyXG5cdFx0QHJldmVhbGVkLnB1c2ggQG4qaitpXHJcblx0XHRpZiBAbmVpZ2hib3JDb3VudChpLGopID09IDAgdGhlbiBAZmxvb2RGaWxsIGksalxyXG5cclxuXHRmbG9vZEZpbGwgOiAoaTAsajApIC0+XHJcblx0XHRmb3IgZGkgaW4gWy0xLDAsMV1cclxuXHRcdFx0Zm9yIGRqIGluIFstMSwwLDFdXHJcblx0XHRcdFx0aSA9IGkwICsgZGlcclxuXHRcdFx0XHRqID0gajAgKyBkalxyXG5cdFx0XHRcdGlmIC0xIDwgaSA8IEBuIGFuZCAtMSA8IGogPCBAblxyXG5cdFx0XHRcdFx0aW5kZXggPSBAbipqK2lcclxuXHRcdFx0XHRcdGlmIG5vdCAoaW5kZXggaW4gQGJvbWJzIG9yIGluZGV4IGluIEByZXZlYWxlZCkgdGhlbiBAcmV2ZWFsIGksalxyXG5cclxuc2V0dXAgPSAtPlxyXG5cdGNyZWF0ZUNhbnZhcyAyMDAsMjAwXHJcblx0YXBwID0gbmV3IE1pbmVTd2VlcGVyXHJcblx0YnV0dG9uICdyZXNldCAyMCwxMCcsID0+IGFwcC5yZXNldCAyMCwxMFxyXG5cdGJ1dHRvbiAncmVzZXQgMjAsMjAnLCA9PiBhcHAucmVzZXQgMjAsMjBcclxuXHRidXR0b24gJ3Jlc2V0IDIwLDMwJywgPT4gYXBwLnJlc2V0IDIwLDMwXHJcblx0YnV0dG9uICdyZXNldCAxMCw0MCcsID0+IGFwcC5yZXNldCAxMCw0MFxyXG5cdGFwcC5yZXNldCAyMCwxMFxyXG5cclxuZHJhdyA9IC0+IGFwcC5kcmF3KClcclxubW91c2VQcmVzc2VkID0gKGV2ZW50KSAtPiBhcHAubW91c2VQcmVzc2VkIGV2ZW50LngsZXZlbnQueVxyXG4iXX0=
//# sourceURL=c:\github\p5Dojo2\ID_MineSweeper\coffee\sketch.coffee