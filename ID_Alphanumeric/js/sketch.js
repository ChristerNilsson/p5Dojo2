// Generated by CoffeeScript 2.4.1
var DISTANCE, R, add, del, draw, left, mousePressed, reset, right, setup, state,
  modulo = function(a, b) { return (+a % (b = +b) + b) % b; };

R = 8;

DISTANCE = 20;

state = {};

reset = function() {
  state.pattern = [[4, 12, 4, 4, 4, 4, 14], [14, 17, 1, 2, 4, 8, 31], [14, 17, 17, 31, 17, 17, 17], [30, 17, 17, 30, 17, 17, 30]];
  return state.index = 0;
};

draw = function() {
  var i, index, j, k, len, ref, results, x, y;
  bg(0.5);
  sc();
  ref = state.pattern[state.index];
  results = [];
  for (j = k = 0, len = ref.length; k < len; j = ++k) {
    index = ref[j];
    y = 40 + DISTANCE * j;
    results.push((function() {
      var l, len1, ref1, results1;
      ref1 = range(5);
      results1 = [];
      for (l = 0, len1 = ref1.length; l < len1; l++) {
        i = ref1[l];
        if (index & 1 << i) {
          fc(0, 1, 0);
        } else {
          fc(0, 0.3, 0);
        }
        x = 140 - DISTANCE * i;
        results1.push(circle(x, y, R));
      }
      return results1;
    })());
  }
  return results;
};

add = function() {
  state.pattern.push([0, 0, 0, 0, 0, 0, 0]);
  return state.index = state.pattern.length - 1;
};

del = function() {
  return state.pattern.splice(state.index, 1);
};

left = function() {
  return state.index = modulo(state.index - 1, state.pattern.length);
};

right = function() {
  return state.index = modulo(state.index + 1, state.pattern.length);
};

mousePressed = function(event) {
  var i, index, j, k, len, ref, results, x, y;
  ref = state.pattern[state.index];
  results = [];
  for (j = k = 0, len = ref.length; k < len; j = ++k) {
    index = ref[j];
    y = 40 + DISTANCE * j;
    results.push((function() {
      var l, len1, ref1, results1;
      ref1 = range(5);
      results1 = [];
      for (l = 0, len1 = ref1.length; l < len1; l++) {
        i = ref1[l];
        x = 140 - DISTANCE * i;
        if (dist(x, y, event.x, event.y) < R) {
          results1.push(state.pattern[state.index][j] ^= 1 << i);
        } else {
          results1.push(void 0);
        }
      }
      return results1;
    })());
  }
  return results;
};

setup = function() {
  createCanvas(200, 200);
  button('reset', () => {
    return reset();
  });
  button('add', () => {
    return add();
  });
  button('del', () => {
    return del();
  });
  button('left', () => {
    return left();
  });
  button('right', () => {
    return right();
  });
  return reset();
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsUUFBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsWUFBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUE7RUFBQTs7QUFBQSxDQUFBLEdBQUk7O0FBQ0osUUFBQSxHQUFXOztBQUNYLEtBQUEsR0FBUSxDQUFBOztBQUVSLEtBQUEsR0FBUSxRQUFBLENBQUEsQ0FBQTtFQUNQLEtBQUssQ0FBQyxPQUFOLEdBQWdCLENBQUMsQ0FBQyxDQUFELEVBQUcsRUFBSCxFQUFNLENBQU4sRUFBUSxDQUFSLEVBQVUsQ0FBVixFQUFZLENBQVosRUFBYyxFQUFkLENBQUQsRUFBb0IsQ0FBQyxFQUFELEVBQUksRUFBSixFQUFPLENBQVAsRUFBUyxDQUFULEVBQVcsQ0FBWCxFQUFhLENBQWIsRUFBZSxFQUFmLENBQXBCLEVBQXdDLENBQUMsRUFBRCxFQUFJLEVBQUosRUFBTyxFQUFQLEVBQVUsRUFBVixFQUFhLEVBQWIsRUFBZ0IsRUFBaEIsRUFBbUIsRUFBbkIsQ0FBeEMsRUFBK0QsQ0FBQyxFQUFELEVBQUksRUFBSixFQUFPLEVBQVAsRUFBVSxFQUFWLEVBQWEsRUFBYixFQUFnQixFQUFoQixFQUFtQixFQUFuQixDQUEvRDtTQUNoQixLQUFLLENBQUMsS0FBTixHQUFjO0FBRlA7O0FBSVIsSUFBQSxHQUFPLFFBQUEsQ0FBQSxDQUFBO0FBQ04sTUFBQSxDQUFBLEVBQUEsS0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsQ0FBQSxFQUFBO0VBQUEsRUFBQSxDQUFHLEdBQUg7RUFDQSxFQUFBLENBQUE7QUFDQTtBQUFBO0VBQUEsS0FBQSw2Q0FBQTs7SUFDQyxDQUFBLEdBQUssRUFBQSxHQUFHLFFBQUEsR0FBUzs7O0FBQ2pCO0FBQUE7TUFBQSxLQUFBLHdDQUFBOztRQUNDLElBQUcsS0FBQSxHQUFRLENBQUEsSUFBRyxDQUFkO1VBQXFCLEVBQUEsQ0FBRyxDQUFILEVBQUssQ0FBTCxFQUFPLENBQVAsRUFBckI7U0FBQSxNQUFBO1VBQW1DLEVBQUEsQ0FBRyxDQUFILEVBQUssR0FBTCxFQUFTLENBQVQsRUFBbkM7O1FBQ0EsQ0FBQSxHQUFJLEdBQUEsR0FBSSxRQUFBLEdBQVM7c0JBQ2pCLE1BQUEsQ0FBTyxDQUFQLEVBQVMsQ0FBVCxFQUFXLENBQVg7TUFIRCxDQUFBOzs7RUFGRCxDQUFBOztBQUhNOztBQVVQLEdBQUEsR0FBUSxRQUFBLENBQUEsQ0FBQTtFQUNQLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBZCxDQUFtQixDQUFDLENBQUQsRUFBRyxDQUFILEVBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxDQUFULEVBQVcsQ0FBWCxFQUFhLENBQWIsQ0FBbkI7U0FDQSxLQUFLLENBQUMsS0FBTixHQUFjLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBZCxHQUF1QjtBQUY5Qjs7QUFJUixHQUFBLEdBQVEsUUFBQSxDQUFBLENBQUE7U0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQWQsQ0FBcUIsS0FBSyxDQUFDLEtBQTNCLEVBQWtDLENBQWxDO0FBQUg7O0FBQ1IsSUFBQSxHQUFRLFFBQUEsQ0FBQSxDQUFBO1NBQUcsS0FBSyxDQUFDLEtBQU4sVUFBZSxLQUFLLENBQUMsS0FBTixHQUFjLEdBQU0sS0FBSyxDQUFDLE9BQU8sQ0FBQztBQUFwRDs7QUFDUixLQUFBLEdBQVEsUUFBQSxDQUFBLENBQUE7U0FBRyxLQUFLLENBQUMsS0FBTixVQUFlLEtBQUssQ0FBQyxLQUFOLEdBQWMsR0FBTSxLQUFLLENBQUMsT0FBTyxDQUFDO0FBQXBEOztBQUVSLFlBQUEsR0FBZSxRQUFBLENBQUMsS0FBRCxDQUFBO0FBQ2QsTUFBQSxDQUFBLEVBQUEsS0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxPQUFBLEVBQUEsQ0FBQSxFQUFBO0FBQUE7QUFBQTtFQUFBLEtBQUEsNkNBQUE7O0lBQ0MsQ0FBQSxHQUFLLEVBQUEsR0FBRyxRQUFBLEdBQVM7OztBQUNqQjtBQUFBO01BQUEsS0FBQSx3Q0FBQTs7UUFDQyxDQUFBLEdBQUksR0FBQSxHQUFJLFFBQUEsR0FBUztRQUNqQixJQUFHLElBQUEsQ0FBSyxDQUFMLEVBQU8sQ0FBUCxFQUFTLEtBQUssQ0FBQyxDQUFmLEVBQWlCLEtBQUssQ0FBQyxDQUF2QixDQUFBLEdBQTRCLENBQS9CO3dCQUNDLEtBQUssQ0FBQyxPQUFRLENBQUEsS0FBSyxDQUFDLEtBQU4sQ0FBYSxDQUFBLENBQUEsQ0FBM0IsSUFBaUMsQ0FBQSxJQUFHLEdBRHJDO1NBQUEsTUFBQTtnQ0FBQTs7TUFGRCxDQUFBOzs7RUFGRCxDQUFBOztBQURjOztBQVFmLEtBQUEsR0FBUSxRQUFBLENBQUEsQ0FBQTtFQUNQLFlBQUEsQ0FBYSxHQUFiLEVBQWlCLEdBQWpCO0VBQ0EsTUFBQSxDQUFPLE9BQVAsRUFBZ0IsQ0FBQSxDQUFBLEdBQUE7V0FBRyxLQUFBLENBQUE7RUFBSCxDQUFoQjtFQUNBLE1BQUEsQ0FBTyxLQUFQLEVBQWMsQ0FBQSxDQUFBLEdBQUE7V0FBRyxHQUFBLENBQUE7RUFBSCxDQUFkO0VBQ0EsTUFBQSxDQUFPLEtBQVAsRUFBYyxDQUFBLENBQUEsR0FBQTtXQUFHLEdBQUEsQ0FBQTtFQUFILENBQWQ7RUFDQSxNQUFBLENBQU8sTUFBUCxFQUFlLENBQUEsQ0FBQSxHQUFBO1dBQUcsSUFBQSxDQUFBO0VBQUgsQ0FBZjtFQUNBLE1BQUEsQ0FBTyxPQUFQLEVBQWdCLENBQUEsQ0FBQSxHQUFBO1dBQUcsS0FBQSxDQUFBO0VBQUgsQ0FBaEI7U0FDQSxLQUFBLENBQUE7QUFQTyIsInNvdXJjZXNDb250ZW50IjpbIlIgPSA4XHJcbkRJU1RBTkNFID0gMjBcclxuc3RhdGUgPSB7fVxyXG5cclxucmVzZXQgPSAtPlxyXG5cdHN0YXRlLnBhdHRlcm4gPSBbWzQsMTIsNCw0LDQsNCwxNF0sIFsxNCwxNywxLDIsNCw4LDMxXSwgWzE0LDE3LDE3LDMxLDE3LDE3LDE3XSxbMzAsMTcsMTcsMzAsMTcsMTcsMzBdXVxyXG5cdHN0YXRlLmluZGV4ID0gMFxyXG5cclxuZHJhdyA9IC0+XHJcblx0YmcgMC41XHJcblx0c2MoKVxyXG5cdGZvciBpbmRleCxqIGluIHN0YXRlLnBhdHRlcm5bc3RhdGUuaW5kZXhdXHJcblx0XHR5ID0gIDQwK0RJU1RBTkNFKmpcclxuXHRcdGZvciBpIGluIHJhbmdlIDVcclxuXHRcdFx0aWYgaW5kZXggJiAxPDxpIHRoZW4gZmMgMCwxLDAgZWxzZSBmYyAwLDAuMywwXHJcblx0XHRcdHggPSAxNDAtRElTVEFOQ0UqaVxyXG5cdFx0XHRjaXJjbGUgeCx5LFJcclxuXHJcbmFkZCAgID0gLT5cclxuXHRzdGF0ZS5wYXR0ZXJuLnB1c2ggWzAsMCwwLDAsMCwwLDBdXHJcblx0c3RhdGUuaW5kZXggPSBzdGF0ZS5wYXR0ZXJuLmxlbmd0aCAtIDFcclxuXHJcbmRlbCAgID0gLT4gc3RhdGUucGF0dGVybi5zcGxpY2Ugc3RhdGUuaW5kZXgsIDFcclxubGVmdCAgPSAtPiBzdGF0ZS5pbmRleCA9IChzdGF0ZS5pbmRleCAtIDEpICUlIHN0YXRlLnBhdHRlcm4ubGVuZ3RoXHJcbnJpZ2h0ID0gLT4gc3RhdGUuaW5kZXggPSAoc3RhdGUuaW5kZXggKyAxKSAlJSBzdGF0ZS5wYXR0ZXJuLmxlbmd0aFxyXG5cclxubW91c2VQcmVzc2VkID0gKGV2ZW50KSAtPlxyXG5cdGZvciBpbmRleCxqIGluIHN0YXRlLnBhdHRlcm5bc3RhdGUuaW5kZXhdXHJcblx0XHR5ID0gIDQwK0RJU1RBTkNFKmpcclxuXHRcdGZvciBpIGluIHJhbmdlIDVcclxuXHRcdFx0eCA9IDE0MC1ESVNUQU5DRSppXHJcblx0XHRcdGlmIGRpc3QoeCx5LGV2ZW50LngsZXZlbnQueSkgPCBSXHJcblx0XHRcdFx0c3RhdGUucGF0dGVybltzdGF0ZS5pbmRleF1bal0gXj0gMTw8aVxyXG5cclxuc2V0dXAgPSAtPlxyXG5cdGNyZWF0ZUNhbnZhcyAyMDAsMjAwXHJcblx0YnV0dG9uICdyZXNldCcsID0+IHJlc2V0KClcclxuXHRidXR0b24gJ2FkZCcsID0+IGFkZCgpXHJcblx0YnV0dG9uICdkZWwnLCA9PiBkZWwoKVxyXG5cdGJ1dHRvbiAnbGVmdCcsID0+IGxlZnQoKVxyXG5cdGJ1dHRvbiAncmlnaHQnLCA9PiByaWdodCgpXHJcblx0cmVzZXQoKVxyXG4iXX0=
//# sourceURL=c:\github\p5Dojo2\ID_Alphanumeric\coffee\sketch.coffee