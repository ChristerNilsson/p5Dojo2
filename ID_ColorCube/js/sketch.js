// Generated by CoffeeScript 2.4.1
var draw, dst, mousePressed, reset, setup, state, undo;

state = {};

reset = function() {
  return state = {
    r: 0,
    g: 0,
    b: 0,
    size: 256,
    history: []
  };
};

dst = (x, y, z) => {
  return Math.sqrt(x * x + y * y + z * z);
};

draw = function() {
  var b, bb, c, g, gg, i, len, r, ref, results, rr, x, y;
  bg(0);
  c = state.size / 4;
  ref = range(4);
  results = [];
  for (i = 0, len = ref.length; i < len; i++) {
    b = ref[i];
    results.push((function() {
      var j, len1, ref1, results1;
      ref1 = range(4);
      results1 = [];
      for (j = 0, len1 = ref1.length; j < len1; j++) {
        r = ref1[j];
        results1.push((function() {
          var k, len2, ref2, results2;
          ref2 = range(4);
          results2 = [];
          for (k = 0, len2 = ref2.length; k < len2; k++) {
            g = ref2[k];
            rr = state.r + r * c;
            gg = state.g + g * c;
            bb = state.b + b * c;
            fill(rr, gg, bb);
            stroke(rr, gg, bb);
            x = r * 40 - g * 10;
            y = g * 10 + b * 50 + 5;
            quad(4 * (x + 40), 4 * (y + 0), 4 * (x + 80), 4 * (y + 0), 4 * (x + 70), 4 * (y + 10), 4 * (x + 30), 4 * (y + 10));
            noStroke();
            if (dst(rr, gg, bb) < dst(255 - rr, 255 - gg, 255 - bb)) {
              fill(255, 255, 255);
            } else {
              fill(0, 0, 0);
            }
            results2.push(text(hex(rr, 2) + ' ' + hex(gg, 2) + ' ' + hex(bb, 2), 4 * (x + 48), 4 * (y + 6)));
          }
          return results2;
        })());
      }
      return results1;
    })());
  }
  return results;
};

mousePressed = function(event) {
  var b, g, i, j, k, len, len1, len2, r, ref, ref1, ref2, ref3, ref4, x, y;
  if (state.size === 4) {
    return;
  }
  ref = range(4);
  for (i = 0, len = ref.length; i < len; i++) {
    b = ref[i];
    ref1 = range(4);
    for (j = 0, len1 = ref1.length; j < len1; j++) {
      r = ref1[j];
      ref2 = range(4);
      for (k = 0, len2 = ref2.length; k < len2; k++) {
        g = ref2[k];
        x = r * 40 - g * 10;
        y = g * 10 + b * 50 + 5;
        if ((4 * (x + 35) <= (ref3 = event.x) && ref3 <= 4 * (x + 75)) && (4 * y <= (ref4 = event.y) && ref4 <= 4 * (y + 10))) {
          state.history.push([state.r, state.g, state.b, state.size]);
          state.size /= 4;
          state.r += r * state.size;
          state.g += g * state.size;
          state.b += b * state.size;
          return;
        }
      }
    }
  }
};

undo = function() {
  if (state.history.length > 0) {
    return [state.r, state.g, state.b, state.size] = state.history.pop();
  }
};

setup = function() {
  createCanvas(800, 800);
  button('reset', reset);
  button('undo', undo);
  return reset();
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxZQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUE7O0FBQUEsS0FBQSxHQUFRLENBQUE7O0FBRVIsS0FBQSxHQUFRLFFBQUEsQ0FBQSxDQUFBO1NBQUcsS0FBQSxHQUFRO0lBQUEsQ0FBQSxFQUFFLENBQUY7SUFBSyxDQUFBLEVBQUUsQ0FBUDtJQUFVLENBQUEsRUFBRSxDQUFaO0lBQWUsSUFBQSxFQUFLLEdBQXBCO0lBQXlCLE9BQUEsRUFBUTtFQUFqQztBQUFYOztBQUVSLEdBQUEsR0FBTSxDQUFDLENBQUQsRUFBRyxDQUFILEVBQUssQ0FBTCxDQUFBLEdBQUE7U0FBVyxJQUFJLENBQUMsSUFBTCxDQUFVLENBQUEsR0FBRSxDQUFGLEdBQUksQ0FBQSxHQUFFLENBQU4sR0FBUSxDQUFBLEdBQUUsQ0FBcEI7QUFBWDs7QUFFTixJQUFBLEdBQU8sUUFBQSxDQUFBLENBQUE7QUFDTixNQUFBLENBQUEsRUFBQSxFQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxFQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLEVBQUEsQ0FBQSxFQUFBO0VBQUEsRUFBQSxDQUFHLENBQUg7RUFDQSxDQUFBLEdBQUksS0FBSyxDQUFDLElBQU4sR0FBYTtBQUNqQjtBQUFBO0VBQUEsS0FBQSxxQ0FBQTs7OztBQUNDO0FBQUE7TUFBQSxLQUFBLHdDQUFBOzs7O0FBQ0M7QUFBQTtVQUFBLEtBQUEsd0NBQUE7O1lBQ0MsRUFBQSxHQUFLLEtBQUssQ0FBQyxDQUFOLEdBQVEsQ0FBQSxHQUFFO1lBQ2YsRUFBQSxHQUFLLEtBQUssQ0FBQyxDQUFOLEdBQVEsQ0FBQSxHQUFFO1lBQ2YsRUFBQSxH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Q0FBdkIsRUFBeUIsS0FBSyxDQUFDLElBQS9CLENBQW5CO1VBQ0EsS0FBSyxDQUFDLElBQU4sSUFBYztVQUNkLEtBQUssQ0FBQyxDQUFOLElBQVcsQ0FBQSxHQUFJLEtBQUssQ0FBQztVQUNyQixLQUFLLENBQUMsQ0FBTixJQUFXLENBQUEsR0FBSSxLQUFLLENBQUM7VUFDckIsS0FBSyxDQUFDLENBQU4sSUFBVyxDQUFBLEdBQUksS0FBSyxDQUFDO0FBQ3JCLGlCQU5EOztNQUhEO0lBREQ7RUFERDtBQUZjOztBQWVmLElBQUEsR0FBTyxRQUFBLENBQUEsQ0FBQTtFQUFHLElBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFkLEdBQXVCLENBQTFCO1dBQWlDLENBQUMsS0FBSyxDQUFDLENBQVAsRUFBUyxLQUFLLENBQUMsQ0FBZixFQUFpQixLQUFLLENBQUMsQ0FBdkIsRUFBeUIsS0FBSyxDQUFDLElBQS9CLENBQUEsR0FBdUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFkLENBQUEsRUFBeEU7O0FBQUg7O0FBRVAsS0FBQSxHQUFRLFFBQUEsQ0FBQSxDQUFBO0VBQ1AsWUFBQSxDQUFhLEdBQWIsRUFBaUIsR0FBakI7RUFDQSxNQUFBLENBQU8sT0FBUCxFQUFnQixLQUFoQjtFQUNBLE1BQUEsQ0FBTyxNQUFQLEVBQWUsSUFBZjtTQUNBLEtBQUEsQ0FBQTtBQUpPIiwic291cmNlc0NvbnRlbnQiOlsic3RhdGUgPSB7fVxyXG5cclxucmVzZXQgPSAtPiBzdGF0ZSA9IHI6MCwgZzowLCBiOjAsIHNpemU6MjU2LCBoaXN0b3J5OltdXHJcblxyXG5kc3QgPSAoeCx5LHopID0+IE1hdGguc3FydCh4KngreSp5K3oqeilcclxuXHJcbmRyYXcgPSAtPlxyXG5cdGJnIDBcclxuXHRjID0gc3RhdGUuc2l6ZSAvIDRcclxuXHRmb3IgYiBpbiByYW5nZSA0XHJcblx0XHRmb3IgciBpbiByYW5nZSA0XHJcblx0XHRcdGZvciBnIGluIHJhbmdlIDRcclxuXHRcdFx0XHRyciA9IHN0YXRlLnIrcipjXHJcblx0XHRcdFx0Z2cgPSBzdGF0ZS5nK2cqY1xyXG5cdFx0XHRcdGJiID0gc3RhdGUuYitiKmNcclxuXHRcdFx0XHRmaWxsICAgcnIsZ2csYmJcclxuXHRcdFx0XHRzdHJva2UgcnIsZ2csYmJcclxuXHRcdFx0XHR4ID0gcio0MC1nKjEwXHJcblx0XHRcdFx0eSA9IGcqMTArYio1MCArIDVcclxuXHRcdFx0XHRxdWFkIDQqKHgrNDApLDQqKHkrMCksIDQqKHgrODApLDQqKHkrMCksIDQqKHgrNzApLDQqKHkrMTApLCA0Kih4KzMwKSw0Kih5KzEwKVxyXG5cdFx0XHRcdG5vU3Ryb2tlKClcclxuXHRcdFx0XHRpZiBkc3QocnIsZ2csYmIpIDwgZHN0KDI1NS1yciwyNTUtZ2csMjU1LWJiKSB0aGVuIGZpbGwgMjU1LDI1NSwyNTUgZWxzZSBmaWxsIDAsMCwwXHJcblx0XHRcdFx0dGV4dCBoZXgocnIsMikgKyAnICcgKyBoZXgoZ2csMikgKyAnICcgKyBoZXgoYmIsMiksIDQqKHgrNDgpLDQqKHkrNilcclxuXHJcbm1vdXNlUHJlc3NlZCA9IChldmVudCkgLT5cclxuXHRpZiBzdGF0ZS5zaXplID09IDQgdGhlbiByZXR1cm5cclxuXHRmb3IgYiBpbiByYW5nZSA0XHJcblx0XHRmb3IgciBpbiByYW5nZSA0XHJcblx0XHRcdGZvciBnIGluIHJhbmdlIDRcclxuXHRcdFx0XHR4ID0gcio0MC1nKjEwXHJcblx0XHRcdFx0eSA9IGcqMTArYio1MCArIDVcclxuXHRcdFx0XHRpZiA0Kih4KzM1KSA8PSBldmVudC54IDw9IDQqKHgrNzUpIGFuZCA0Kih5KSA8PSBldmVudC55IDw9IDQqKHkrMTApXHJcblx0XHRcdFx0XHRzdGF0ZS5oaXN0b3J5LnB1c2ggW3N0YXRlLnIsc3RhdGUuZyxzdGF0ZS5iLHN0YXRlLnNpemVdXHJcblx0XHRcdFx0XHRzdGF0ZS5zaXplIC89IDRcclxuXHRcdFx0XHRcdHN0YXRlLnIgKz0gciAqIHN0YXRlLnNpemVcclxuXHRcdFx0XHRcdHN0YXRlLmcgKz0gZyAqIHN0YXRlLnNpemVcclxuXHRcdFx0XHRcdHN0YXRlLmIgKz0gYiAqIHN0YXRlLnNpemVcclxuXHRcdFx0XHRcdHJldHVyblxyXG5cclxudW5kbyA9IC0+IGlmIHN0YXRlLmhpc3RvcnkubGVuZ3RoID4gMCB0aGVuIFtzdGF0ZS5yLHN0YXRlLmcsc3RhdGUuYixzdGF0ZS5zaXplXSA9IHN0YXRlLmhpc3RvcnkucG9wKClcclxuXHJcbnNldHVwID0gLT5cclxuXHRjcmVhdGVDYW52YXMgODAwLDgwMFxyXG5cdGJ1dHRvbiAncmVzZXQnLCByZXNldFxyXG5cdGJ1dHRvbiAndW5kbycsIHVuZG9cclxuXHRyZXNldCgpXHJcbiJdfQ==
//# sourceURL=c:\github\p5Dojo2\ID_ColorCube\coffee\sketch.coffee