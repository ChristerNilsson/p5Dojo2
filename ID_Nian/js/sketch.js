// Generated by CoffeeScript 2.4.1
var bits, draw, keyup, n, ok, reset, setup, state,
  indexOf = [].indexOf;

state = {};

n = 15;

reset = function() {
  return state.found = "";
};

draw = function() {
  var i, j, len, ref, results, word, x, y;
  bg(0);
  textAlign(LEFT, TOP);
  textSize(12);
  fc(1, 1, 0);
  sc();
  ref = state.found.split(" ");
  results = [];
  for (i = j = 0, len = ref.length; j < len; i = ++j) {
    word = ref[i];
    x = int(i / n);
    y = i % n;
    results.push(text(word, 5 + 200 / 4 * x, 200 * y / n));
  }
  return results;
};

bits = function(word) {
  return word.split("").reduce((function(acc, ch) {
    return acc | (2 ** "abcdefghijklmnopqrstuvwxyzåäöé".indexOf(ch));
  }), 0);
};

ok = function(f1, f2) {
  var ch, f;
  for (ch in f2) {
    f = f2[ch];
    if (f > f1[ch]) {
      return false;
    }
  }
  return true;
};

keyup = function(event) {
  var freq1, freq2, i, j, len, letters1, letters2, mandatory, p, pattern, patterns, word, words;
  words = ordlista.split(" ");
  patterns = (function() {
    var j, len, results;
    results = [];
    for (j = 0, len = words.length; j < len; j++) {
      word = words[j];
      results.push(bits(word));
    }
    return results;
  })();
  state.letters = event.target.value.toLowerCase();
  mandatory = state.letters[4];
  state.found = [];
  p = bits(state.letters);
  letters1 = state.letters.split("");
  freq1 = _.countBy(letters1);
  for (i = j = 0, len = patterns.length; j < len; i = ++j) {
    pattern = patterns[i];
    if ((p & pattern) === pattern) {
      letters2 = words[i].split("");
      freq2 = _.countBy(letters2);
      if (ok(freq1, freq2) && indexOf.call(letters2, mandatory) >= 0) {
        state.found.push(words[i]);
      }
    }
  }
  return state.found = state.found.join(" ");
};

setup = function() {
  createCanvas(200, 200);
  input(keyup);
  return reset();
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEVBQUEsQ0FBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUE7RUFBQTs7QUFBQSxLQUFBLEdBQVEsQ0FBQTs7QUFDUixDQUFBLEdBQUk7O0FBRUosS0FBQSxHQUFRLFFBQUEsQ0FBQSxDQUFBO1NBQ1AsS0FBSyxDQUFDLEtBQU4sR0FBYztBQURQOztBQUdSLElBQUEsR0FBTyxRQUFBLENBQUEsQ0FBQTtBQUNOLE1BQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsQ0FBQSxFQUFBO0VBQUEsRUFBQSxDQUFHLENBQUg7RUFDQSxTQUFBLENBQVUsSUFBVixFQUFlLEdBQWY7RUFDQSxRQUFBLENBQVMsRUFBVDtFQUNBLEVBQUEsQ0FBRyxDQUFILEVBQUssQ0FBTCxFQUFPLENBQVA7RUFDQSxFQUFBLENBQUE7QUFDQTtBQUFBO0VBQUEsS0FBQSw2Q0FBQTs7SUFDQyxDQUFBLEdBQUksR0FBQSxDQUFJLENBQUEsR0FBSSxDQUFSO0lBQ0osQ0FBQSxHQUFJLENBQUEsR0FBSTtpQkFDUixJQUFBLENBQUssSUFBTCxFQUFVLENBQUEsR0FBRSxHQUFBLEdBQUksQ0FBSixHQUFNLENBQWxCLEVBQW9CLEdBQUEsR0FBSSxDQUFKLEdBQU0sQ0FBMUI7RUFIRCxDQUFBOztBQU5NOztBQVdQLElBQUEsR0FBTyxRQUFBLENBQUMsSUFBRCxDQUFBO1NBQVUsSUFBSSxDQUFDLEtBQUwsQ0FBVyxFQUFYLENBQWMsQ0FBQyxNQUFmLENBQXNCLENBQUMsUUFBQSxDQUFDLEdBQUQsRUFBSyxFQUFMLENBQUE7V0FBWSxHQUFBLEdBQUksQ0FBQyxDQUFBLElBQUssZ0NBQWdDLENBQUMsT0FBakMsQ0FBeUMsRUFBekMsQ0FBTjtFQUFoQixDQUFELENBQXRCLEVBQTRGLENBQTVGO0FBQVY7O0FBRVAsRUFBQSxHQUFLLFFBQUEsQ0FBQyxFQUFELEVBQUksRUFBSixDQUFBO0FBQ0osTUFBQSxFQUFBLEVBQUE7RUFBQSxLQUFBLFFBQUE7O0lBQ0MsSUFBRyxDQUFBLEdBQUksRUFBRyxDQUFBLEVBQUEsQ0FBVjtBQUFtQixhQUFPLE1BQTFCOztFQUREO1NBRUE7QUFISTs7QUFLTCxLQUFBLEdBQVEsUUFBQSxDQUFDLEtBQUQsQ0FBQTtBQUNQLE1BQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxRQUFBLEVBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxDQUFBLEVBQUEsT0FBQSxFQUFBLFFBQUEsRUFBQSxJQUFBLEVBQUE7RUFBQSxLQUFBLEdBQVEsUUFBUSxDQUFDLEtBQVQsQ0FBZSxHQUFmO0VBQ1IsUUFBQTs7QUFBc0I7SUFBQSxLQUFBLHVDQUFBOzttQkFBVixJQUFBLENBQUssSUFBTDtJQUFVLENBQUE7OztFQUN0QixLQUFLLENBQUMsT0FBTixHQUFnQixLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxXQUFuQixDQUFBO0VBQ2hCLFNBQUEsR0FBWSxLQUFLLENBQUMsT0FBUSxDQUFBLENBQUE7RUFDMUIsS0FBSyxDQUFDLEtBQU4sR0FBYztFQUNkLENBQUEsR0FBSSxJQUFBLENBQUssS0FBSyxDQUFDLE9BQVg7RUFDSixRQUFBLEdBQVcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFkLENBQW9CLEVBQXBCO0VBQ1gsS0FBQSxHQUFRLENBQUMsQ0FBQyxPQUFGLENBQVUsUUFBVjtFQUNSLEtBQUEsa0RBQUE7O0lBQ0MsSUFBRyxDQUFDLENBQUEsR0FBSSxPQUFMLENBQUEsS0FBaUIsT0FBcEI7TUFDQyxRQUFBLEdBQVcsS0FBTSxDQUFBLENBQUEsQ0FBRSxDQUFDLEtBQVQsQ0FBZSxFQUFmO01BQ1gsS0FBQSxHQUFRLENBQUMsQ0FBQyxPQUFGLENBQVUsUUFBVjtNQUNSLElBQUcsRUFBQSxDQUFHLEtBQUgsRUFBUyxLQUFULENBQUEsSUFBb0IsYUFBYSxRQUFiLEVBQUEsU0FBQSxNQUF2QjtRQUFrRCxLQUFLLENBQUMsS0FBSyxDQUFDLElBQVosQ0FBaUIsS0FBTSxDQUFBLENBQUEsQ0FBdkIsRUFBbEQ7T0FIRDs7RUFERDtTQUtBLEtBQUssQ0FBQyxLQUFOLEdBQWMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFaLENBQWlCLEdBQWpCO0FBZFA7O0FBZ0JSLEtBQUEsR0FBUSxRQUFBLENBQUEsQ0FBQTtFQUNQLFlBQUEsQ0FBYSxHQUFiLEVBQWlCLEdBQWpCO0VBQ0EsS0FBQSxDQUFNLEtBQU47U0FDQSxLQUFBLENBQUE7QUFITyIsInNvdXJjZXNDb250ZW50IjpbInN0YXRlID0ge31cclxubiA9IDE1XHJcblxyXG5yZXNldCA9IC0+XHJcblx0c3RhdGUuZm91bmQgPSBcIlwiXHJcblxyXG5kcmF3ID0gLT5cclxuXHRiZyAwXHJcblx0dGV4dEFsaWduIExFRlQsVE9QXHJcblx0dGV4dFNpemUgMTJcclxuXHRmYyAxLDEsMFxyXG5cdHNjKClcclxuXHRmb3Igd29yZCxpIGluIHN0YXRlLmZvdW5kLnNwbGl0IFwiIFwiXHJcblx0XHR4ID0gaW50IGkgLyBuXHJcblx0XHR5ID0gaSAlIG5cclxuXHRcdHRleHQgd29yZCw1KzIwMC80KngsMjAwKnkvblxyXG5cclxuYml0cyA9ICh3b3JkKSAtPiB3b3JkLnNwbGl0KFwiXCIpLnJlZHVjZSAoKGFjYyxjaCkgLT4gYWNjfCgyICoqIFwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXrDpcOkw7bDqVwiLmluZGV4T2YgY2gpKSwgMFxyXG5cclxub2sgPSAoZjEsZjIpIC0+XHJcblx0Zm9yIGNoLCBmIG9mIGYyXHJcblx0XHRpZiBmID4gZjFbY2hdIHRoZW4gcmV0dXJuIGZhbHNlXHJcblx0dHJ1ZVxyXG5cclxua2V5dXAgPSAoZXZlbnQpIC0+XHJcblx0d29yZHMgPSBvcmRsaXN0YS5zcGxpdCBcIiBcIlxyXG5cdHBhdHRlcm5zID0gKGJpdHMgd29yZCBmb3Igd29yZCBpbiB3b3JkcylcclxuXHRzdGF0ZS5sZXR0ZXJzID0gZXZlbnQudGFyZ2V0LnZhbHVlLnRvTG93ZXJDYXNlKClcclxuXHRtYW5kYXRvcnkgPSBzdGF0ZS5sZXR0ZXJzWzRdXHJcblx0c3RhdGUuZm91bmQgPSBbXVxyXG5cdHAgPSBiaXRzIHN0YXRlLmxldHRlcnNcclxuXHRsZXR0ZXJzMSA9IHN0YXRlLmxldHRlcnMuc3BsaXQgXCJcIlxyXG5cdGZyZXExID0gXy5jb3VudEJ5IGxldHRlcnMxXHJcblx0Zm9yIHBhdHRlcm4saSBpbiBwYXR0ZXJuc1xyXG5cdFx0aWYgKHAgJiBwYXR0ZXJuKSA9PSBwYXR0ZXJuXHJcblx0XHRcdGxldHRlcnMyID0gd29yZHNbaV0uc3BsaXQgXCJcIlxyXG5cdFx0XHRmcmVxMiA9IF8uY291bnRCeSBsZXR0ZXJzMlxyXG5cdFx0XHRpZiBvayhmcmVxMSxmcmVxMikgYW5kIG1hbmRhdG9yeSBpbiBsZXR0ZXJzMiB0aGVuIHN0YXRlLmZvdW5kLnB1c2ggd29yZHNbaV1cclxuXHRzdGF0ZS5mb3VuZCA9IHN0YXRlLmZvdW5kLmpvaW4gXCIgXCJcclxuXHJcbnNldHVwID0gLT5cclxuXHRjcmVhdGVDYW52YXMgMjAwLDIwMFxyXG5cdGlucHV0IGtleXVwXHJcblx0cmVzZXQoKSJdfQ==
//# sourceURL=c:\github\p5Dojo2\ID_Nian\coffee\sketch.coffee